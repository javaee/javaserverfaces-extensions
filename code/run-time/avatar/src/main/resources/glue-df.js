jmaki.addGlueListener({topic:"/dojo/fisheye",action:"call",target:{object:"jmaki.dynamicfaces",functionName:"fishEyeValueUpdate"}});jmaki.addGlueListener({topic:"/scriptaculous/inplace/valueUpdate",action:"call",target:{object:"jmaki.dynamicfaces",functionName:"inplaceValueUpdate"}});jmaki.addGlueListener({topic:"/scriptaculous/inplace/response",action:"call",target:{object:"jmaki.dynamicfaces",functionName:"inplaceResponse"}});jmaki.dynamicfaces={fishEyeValueUpdate:function fishEyeValueUpdate(A){var D=A.wargs;var B=A.target;var C=null;if(D.form){C=document.createElement("input");C.type="hidden";C.id=D.uuid;C.value=B.index;D.form.appendChild(C)}DynaFaces.fireAjaxTransaction(C,{render:D.uuid,inputs:D.uuid})},inplaceValueUpdate:function inplaceValueUpdate(D){var G=D.wargs;var A=D.target.wrapper;var B=A.value;A.options.ajaxOptions.requestHeaders=A.options.ajaxOptions.requestHeaders||[];A.options.ajaxOptions.requestHeaders.push(DynaFaces.gPartial);A.options.ajaxOptions.requestHeaders.push(true);A.options.ajaxOptions.requestHeaders.push(DynaFaces.gRender);A.options.ajaxOptions.requestHeaders.push(G.uuid);A.options.ajaxOptions.requestHeaders.push(DynaFaces.gExecute);A.options.ajaxOptions.requestHeaders.push(G.uuid);var C=window.document.getElementsByName(DynaFaces.gViewState);var H=encodeURIComponent(C[0].value);var E=encodeURIComponent(form.id);var F=encodeURIComponent(G.uuid);G.outResult=F+"="+B+"&"+E+"="+E+"&"+DynaFaces.gViewState+"="+H},inplaceResponse:function inplaceResponse(H){if(null==H.transport||null==H.element){return }var F=H.transport.responseXML;var G=F.getElementsByTagName("components")[0];var B=G.getElementsByTagName("render");var I=B[0].firstChild.firstChild;var E=H.element;I=I.text||I.data;E.removeChild(E.firstChild);E.innerHTML=I;var A=A||F.getElementsByTagName("state")[0].firstChild;if(A){var C=document.getElementsByName(DynaFaces.gViewState);var D;for(D=0;D<C.length;D++){C[D].value=A.text||A.data}}}}